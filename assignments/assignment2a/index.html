<html>

<title>Java Threads and Monitor Objects (Assignment 2a)</title>

<BODY text = "#000000"
link="#000fff"
vlink="#ff0f0f"
bgcolor="#ffffff">

<HR>
<h3>Java Threads and Monitor Objects (Assignment 2a)</h3>

<HR width=50% align=left><P>
<H4>Overview of the Assignment</H4>

In this assignment, you will use a Java built-in monitor objects to
implement a subset of the Java java.util.concurrent.Semaphore class,
which we call SimpleSemaphore.  You'll also use the Java
ReentrantReadWriteLock class to implement a subset of the
java.util.concurrent.atomic.SimpleAtomicLong class. <P>

<P><HR width=50% align=left><P>
<H4>Program Description</H4>

In the src and test directories you'll find a number of files, all of
which you should read.  However, the only two files you need to modify
are SimpleAtomicLong.java and SimpleSemaphore.java in the
src/edu/vuum/mocca directory, which contains the skeleton Java code
that you'll implement by completing the "TODO - You fill in here"
comments to provide a working solution.  DO NOT CHANGE THE OVERALL
STRUCTURE OF THE SKELETON - just fill in the "TODO - You fill in here"
portions!!! <P>

In particular, you'll need to do the following: <P>

<UL>

<LI> Implement the SimpleSemaphore class using Java built-in monitor
  objects, which are covered in <A
  HREF="https://www.youtube.com/watch?v=g3rcTTF45cA&list=PLZ9NgFYEMxp4tbiFYip6tDNIEBRUDyPQK&index=23">this</A>
  video.  Your SimpleSemaphore implementation must support the "fair"
  and "not-fair" semantics, which are covered in <A
  HREF="https://www.youtube.com/watch?v=UoaZTkot6-g&list=PLZ9NgFYEMxp4tbiFYip6tDNIEBRUDyPQK&index=18">this</A>
  video. Naturally, your SimpleSemaphore solution won't use Java
  Semaphores, which would be WAY too easy!  To implement the "fair"
  semantics for SimpleSemaphore I recommend you apply the "Specific
  Notification" pattern described <A
  HREF="http://www.dre.vanderbilt.edu/~schmidt/PDF/specific-notification.pdf">here</a>. <P>

</ul>

<P><HR width=50% align=left><P>
<H4>Compiling and Testing Your Program</H4>

To compile the provided skeleton code you need to use the provided
Eclipse project.  There is a Unit Test Suite that will run all the
Unit test files included in the test directory for you.  When you
first open the project in Eclipse, you might see compile errors if
JUnit is not included in your build path.  To fix these errors, open
AllTests.java, hover over "org.junit," and click "Fix project setup."
Make sure "Add JUnit 4 library to the build path" is selected and then
click "OK."  At this point, the compile errors should disappear!

Right click on the test suite (AllTests.java) or an individual
*_UnitTest.java file in Eclipse and select 'Run As' -> 'JUnit
Test'. When the assignment is complete, all the tests should complete
successfully.  If a test passes a green-check mark will appear next to
the test in the JUnit view.  As long as this JUnit test "passes"
successfully your program will be be consider "correct" for the
purposes of assessing this assignment.

<P><HR width=50% align=left><P>
<H4>Additional Work for Graduate Students</H4>

Graduate students (or students who are taking this course for graduate
credit) must do the following additional work:

<UL>

<LI> Implement the SimpleAtomicLong class, which is used by the
  SimpleAtomicLongUnitTest.java and should not be used in the
  SimpleSemaphore implementation itself.  The SimpleAtomicLong class
  should be implemented using a Java ReentrantReadWriteLock, which is
  covered in <A
  HREF="https://www.youtube.com/watch?v=nmCfNtK_NzA&list=PLZ9NgFYEMxp4tbiFYip6tDNIEBRUDyPQK&index=17">this</A>
  video (a good tutorial on ReentrantReadWriteLock <A
  HREF="http://tutorials.jenkov.com/java-util-concurrent/readwritelock.html">here</a>).
  Make sure to use a readLock() for SimpleAtomicLong.get() and
  writeLock() for all the other SimpleAtomicLong methods. <P>

</UL>

Undergraduates should simply implement SimpleAtomicLong by defining an
instance of the standard Java AtomicLong class and forwarding the
SimpleAtomicLong methods to the corresponding AtomicLong methods. <P>

<P><HR width=50% align=left><P>
<H4>Skeleton Code</H4>

Skeleton code for this assignment is available from my <A
HREF="https://github.com/douglascraigschmidt/CS282/tree/master/assignments/assignment2a/A2a-Java">GitHub</a>
account.  Once you've setup your <A
HREF="https://about.gitlab.com/">GitLab</a> account you can pull this
skeleton code in your repository, read it carefully, and complete the
"TODO" markers. The additional work required by graduate students is
clearly marked. <P>

<HR width=50% align=left><P>
<H4>Concluding Remarks</H4>

This assignment is designed to help you get familiar with writing
multi-threaded programs using Eclipse and Java built-in monitor
objects (and Java ReentrantReadWriteLocks for students taking the
class for graduate credit).  It doesn't require any Android
concurrency features (or any Android features at all), which we'll
cover in Assignment 2b.

</body>
</html>
